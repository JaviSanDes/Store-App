(this["webpackJsonpe-commerce-front"]=this["webpackJsonpe-commerce-front"]||[]).push([[0],{52:function(e,t,a){e.exports=a(90)},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(23),l=a.n(c),s=a(10),i=a(5),o=a(25),m=a(50),u=a(51),d={MenuVisible:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_MENU":return{MenuVisible:!e.MenuVisible};default:return e}},E=a(22),g=a(3),b={isLoading:!1,hasErrored:!1,products:[],order:[],newProducts:0,totalPrice:0},h=function(e,t){var a=e.products.map((function(e){return Object(g.a)({},e)})),r=t.products;return Object.values(r).forEach((function(e){a.some((function(t){return t._id===e._id}))||a.push(Object(g.a)({},e))})),Object(g.a)(Object(g.a)({},e),{},{isLoading:!1,products:Object(E.a)(a)})},f=function(e,t){var a=e.products.map((function(e){return Object(g.a)({},e)})),r=Object(E.a)(e.order),n=e.newProducts+1,c=e.totalPrice;return a.map((function(e){return e._id===t.productId&&(c+=e.price,e.quantity+=1,r.includes(e._id)||r.push(e._id)),null})),Object(g.a)(Object(g.a)({},e),{},{products:a,order:r,newProducts:n,totalPrice:c})},v=function(e,t){var a=e.products.map((function(e){return Object(g.a)({},e)})),r=Object(E.a)(e.order),n=e.newProducts-1,c=e.totalPrice;return a.map((function(e){return e._id===t.productId&&(e.quantity>0&&(e.quantity-=1,c-=e.price),e.quantity<=0&&(r=r.filter((function(t){return t!==e._id})))),null})),Object(g.a)(Object(g.a)({},e),{},{products:a,order:r,newProducts:n,totalPrice:c})},N=function(e,t){var a=e.products.map((function(e){return Object(g.a)({},e)})),r=Object(E.a)(e.order),n=e.totalPrice;return a.map((function(e){return e._id===t.productId&&(n-=e.price*e.quantity,e.quantity=0,r=r.filter((function(t){return t!==e._id}))),null})),Object(g.a)(Object(g.a)({},e),{},{products:a,order:r,totalPrice:n})},O=function(e){var t=e.products.map((function(e){return Object(g.a)({},e)}));return t.map((function(e){return e.quantity=0})),Object(g.a)(Object(g.a)({},e),{},{order:[],products:t,newProducts:0})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_ERROR":return Object(g.a)({},e);case"LOADING_IN_PROGRESS":return Object(g.a)(Object(g.a)({},e),{},{isLoading:!0});case"SET_PRODUCTS":return h(e,t);case"ADD_PRODUCT":return f(e,t);case"REMOVE_PRODUCT":return v(e,t);case"ELIMINATE_PRODUCT":return N(e,t);case"RESET_NOTIFICATIONS":return Object(g.a)(Object(g.a)({},e),{},{newProducts:0});case"REMOVE_ALL_PRODUCTS":return O(e);default:return e}},j={shippingData:{},paymentData:{},price:{},user:"",products:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONFIRM_ORDER_PRODUCTS":return Object(g.a)(Object(g.a)({},e),{},{price:Object(g.a)({},t.payload.price),user:t.payload.userId,products:Object(E.a)(t.payload.products)});case"CONFIRM_SHIPPING_DATA":return Object(g.a)(Object(g.a)({},e),{},{shippingData:Object(g.a)({},t.payload)});case"CONFIRM_PAYMENT_DATA":return Object(g.a)(Object(g.a)({},e),{},{paymentData:Object(g.a)({},t.payload)});case"CLEAN_ORDER_DATA":return Object(g.a)(Object(g.a)({},e),{},{shippingData:{},paymentData:{},price:{},user:"",products:[]});default:return e}},k={token:null,userId:null,firstName:null,lastName:null,email:null},C=function(e,t){return Object(g.a)(Object(g.a)({},e),{},{token:t.idToken,userId:t.userID,firstName:t.firstName,lastName:t.lastName,email:t.email})},x=function(e){return Object(g.a)(Object(g.a)({},e),{},{token:null,userId:null,firstName:null,lastName:null,email:null})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN_SUCCESS":return C(e,t);case"AUTH_LOGOUT":return x(e);default:return e}},I=Object(o.combineReducers)({menuToggle:p,products:y,orderData:w,auth:P}),_=Object(o.createStore)(I,Object(m.composeWithDevTools)(Object(o.applyMiddleware)(u.a))),D=a(9),S=a.n(D),B=a(14),T=a(21),q=a.n(T),L=a(15),A=a.n(L),F=function(e,t,a,r,n){return{type:"SIGN_IN_SUCCESS",idToken:e,userID:n,firstName:t,lastName:a,email:r}},H=a(16),R=a(6),M=a(11),z=function(){return{type:"TOGGLE_MENU"}},U=function(){var e=Object(i.b)(),t=Object(M.f)(),a=Object(i.c)((function(e){return e.auth.firstName})),c=Object(i.c)((function(e){return e.auth.lastName})),l=Object(i.c)((function(e){return e.auth.token})),o=Object(M.g)(),m=Object(r.useState)({search:""}),u=Object(R.a)(m,2),d=u[0],p=u[1],E=Object(r.useState)(!1),b=Object(R.a)(E,2),h=b[0],f=b[1],v=Object(r.useState)(!1),N=Object(R.a)(v,2),O=N[0],y=N[1];Object(r.useEffect)((function(){var e="/checkout"===o.pathname||"/settings"===o.pathname||"/orders"===o.pathname||"/Auth"===o.pathname;y(!!e)}),[o]);var j=function(e){"header-user-image"!==e.target.className&&f(!1)};Object(r.useEffect)((function(){return window.addEventListener("click",j),function(){window.removeEventListener("click",j)}}),[]);return n.a.createElement("div",{className:"Header"},n.a.createElement("div",{className:"Header-container",id:"Header-container-id"},n.a.createElement("button",{className:"Header-button",onClick:function(){return e(z())},type:"button"},n.a.createElement("div",{className:"Header-butto-linen"}),n.a.createElement("div",{className:"Header-butto-linen"}),n.a.createElement("div",{className:"Header-butto-linen"})),n.a.createElement("div",{className:"header-home",onClick:function(){t.push("/")},role:"button"},n.a.createElement("h1",{className:"header-home-link"},"E"),n.a.createElement("h1",{className:"header-home-link-2"},"commerce")),!O&&n.a.createElement("div",{className:"header-search"},n.a.createElement("img",{src:"images/search.png",className:"header-search-image",alt:"img",role:"button"}),n.a.createElement("input",{className:"header-search-input",placeholder:"Search your product",name:"search",value:d.search,id:"header-search-input-id",onChange:function(e){return function(e){var a=e.target,r=a.name,n=a.value;p((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(H.a)({},r,n))})),t.push({pathname:"/search/".concat(n)})}(e)}})),n.a.createElement("div",{className:"header-login"},n.a.createElement("img",{src:"images/user.png",alt:"img",className:"header-user-image",onClick:function(){f((function(e){return!e}))},role:"button"}),h&&n.a.createElement("div",{className:"header-user-box"},n.a.createElement("div",{className:"header-triangle"}),n.a.createElement("div",null,n.a.createElement("p",null,"Welcome, ","".concat(a," ").concat(c,"!")),n.a.createElement("p",null,"Enjoy your shopping")),n.a.createElement(s.b,{to:"/settings"},n.a.createElement("button",{type:"button"},"Settings")),n.a.createElement(s.b,{to:"/orders"},n.a.createElement("button",{type:"button"},"My Purchases")),n.a.createElement("button",{type:"button",className:"header-logOut-button",onClick:function(){e((q.a.remove("token",{path:""}),{type:"AUTH_LOGOUT"}))}},"Log Out")))),!l&&n.a.createElement("div",{className:"Header-container-button"},n.a.createElement("button",{type:"button",onClick:function(){t.push("/Auth")}},"SignIn/SignUp")))},G=a(95),V=function(e){return{type:"LOADING_IN_PROGRESS",isLoading:e}},X=function(e){return{type:"ADD_PRODUCT",productId:e}},Y=function(e){return{type:"REMOVE_PRODUCT",productId:e}},$=function(e){return{type:"ELIMINATE_PRODUCT",productId:e}};function W(e){return function(){var t=Object(B.a)(S.a.mark((function t(a){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"LOADING_ERROR",hasErrored:!1}),a(V(!0)),t.next=4,A.a.get("http://localhost:3000/api/products/".concat(e));case 4:r=t.sent,a({type:"SET_PRODUCTS",products:Object(g.a)({},r.data)});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Z,J=a(102),K=a(91),Q=a(92),ee=function(e){var t=e.image,a=Object(r.useState)(0),c=Object(R.a)(a,2),l=c[0],s=c[1],i=Object(r.useState)({border:2,color:"#019E7F"}),o=Object(R.a)(i,2),m=o[0],u=o[1],d=Object(r.useState)({border:1,color:"#e6e6e6"}),p=Object(R.a)(d,2),E=p[0],g=p[1],b=Object(r.useState)({border:1,color:"#e6e6e6"}),h=Object(R.a)(b,2),f=h[0],v=h[1],N=function(e){switch(s(e),e){case 0:u({border:2,color:"#019E7F"}),g({border:1,color:"#e6e6e6"}),v({border:1,color:"#e6e6e6"});break;case-250:u({border:1,color:"#e6e6e6"}),g({border:2,color:"#019E7F"}),v({border:1,color:"#e6e6e6"});break;case-500:u({border:1,color:"#e6e6e6"}),g({border:1,color:"#e6e6e6"}),v({border:2,color:"#019E7F"});break;default:return e}return null};return n.a.createElement("div",{className:"modal-body-image"},n.a.createElement("div",{className:"modal-body-image-1"},n.a.createElement("div",{style:{transform:"translateX(".concat(l,"px)"),transition:"all 0.5s"},className:"modal-body-image-slider"},n.a.createElement("img",{src:""+"images/products/".concat(t),alt:"img",className:"modal-body-img-1"}),n.a.createElement("img",{src:""+"images/products/".concat(t),alt:"img",className:"modal-body-img-1"}),n.a.createElement("img",{src:""+"images/products/".concat(t),alt:"img",className:"modal-body-img-1"}))),n.a.createElement("div",{className:"modal-body-image-2"},n.a.createElement("div",{style:{border:"".concat(m.border,"px solid ").concat(m.color)},onClick:function(){return N(0)}},n.a.createElement("img",{src:""+"images/products/".concat(t),alt:"img",className:"modal-body-img-2"})),n.a.createElement("div",{style:{border:"".concat(E.border,"px solid ").concat(E.color)},onClick:function(){return N(-250)}},n.a.createElement("img",{src:""+"images/products/".concat(t),alt:"img",className:"modal-body-img-2"})),n.a.createElement("div",{style:{border:"".concat(f.border,"px solid ").concat(f.color)},onClick:function(){return N(-500)}},n.a.createElement("img",{src:""+"images/products/".concat(t),alt:"img",className:"modal-body-img-2"}))))},te=function(e){var t=e.id,a=e.quantity,r=Object(i.b)();return n.a.createElement("div",{className:"buttons-add-button"},n.a.createElement("div",{role:"button",id:"buttons-add-button-1",className:"avoid-modal",onClick:function(){return r(Y(t))}},"-"),n.a.createElement("p",{className:"avoid-modal"},a),n.a.createElement("div",{role:"button",id:"buttons-add-button-2",onClick:function(){return r(X(t))},className:"avoid-modal"},"+"))},ae=function(e){var t=e.id,a=e.name,r=e.measure,c=e.description,l=e.price,s=e.image,o=e.isvisible,m=e.setVisible,u=e.quantity,d=e.group,p=e.offer,E=function(){return m()},g=Object(i.b)();return n.a.createElement(J.a,{isOpen:o,toggle:E,size:"lg"},n.a.createElement(K.a,{toggle:E}),n.a.createElement(Q.a,null,n.a.createElement("div",{className:"modal-body"},n.a.createElement(ee,{image:s}),n.a.createElement("div",{className:"modal-body-info"},n.a.createElement("div",{className:"modal-body-info-nameOffer"},n.a.createElement("h1",{className:"modal-body-info-name"},a),p>0?n.a.createElement("div",{className:"modal-offer"},p,"%"):null),n.a.createElement("p",null,r),n.a.createElement("div",{className:"modal-body-info-text"},c,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("p",{className:"modal-tag"},d)),n.a.createElement("div",{className:"modal-product-price"},n.a.createElement("p",{className:"product-price-value"},l," \u20ac"),u>0?n.a.createElement(te,{id:t,quantity:u}):n.a.createElement("div",{role:"button",id:"product-price-button",className:"avoid-modal",onClick:function(){return g(X(t))}},"Add to Cart"))))))},re=function(e){var t=e.id,a=e.name,c=e.measure,l=e.description,s=e.price,o=e.image,m=e.offer,u=e.quantity,d=e.group,p=Object(r.useState)(!1),E=Object(R.a)(p,2),g=E[0],b=E[1],h=Object(i.b)(),f=Object(r.useState)(!0),v=Object(R.a)(f,2),N=v[0],O=v[1];return n.a.createElement("div",{className:"product-container",role:"button",onClick:function(e){return function(e){"avoid-modal"!==e.target.className&&b(!0)}(e)}},m>0?n.a.createElement("div",{className:"product-offer"},m,"%"):null,n.a.createElement("div",{className:"product-image"},N?n.a.createElement("div",{style:{background:"rgb(250, 250, 250)",height:"200px",width:"100%"}}):null,n.a.createElement("img",{style:N?{display:"none"}:{},src:""+"images/products/".concat(o),onLoad:function(){return O(!1)},alt:a})),n.a.createElement("h1",{className:"product-name"},a),n.a.createElement("p",{className:"product-measure"},c),n.a.createElement("div",{className:"product-price"},n.a.createElement("p",{className:"product-price-value"},s," \u20ac"),u>0?n.a.createElement(te,{id:t,quantity:u}):n.a.createElement("div",{role:"button",id:"product-price-button",className:"avoid-modal",onClick:function(){return h(X(t))}},"Add to Cart")),n.a.createElement("div",{className:"product-stars"}," ","\u2605 \u2605 \u2605 \u2605 \u2605"),n.a.createElement(ae,{id:t,name:a,measure:c,description:l,price:s,image:o,isvisible:g,quantity:u,group:d,setVisible:function(){return b(!g)},offer:m}))},ne=a(93),ce=a(94),le=function(){var e=Object(i.c)((function(e){return e.menuToggle.MenuVisible})),t=Object(i.b)(),a={};e&&(a={left:"0px"});return n.a.createElement("div",{className:"SideBar-container",style:a,"data-test":"component-sideBar","data-testid":"component-sideBar-id",id:"menuId"},n.a.createElement("button",{className:"sideBar-button",onClick:function(){return t(z())},type:"button","data-test":"sideBar-button"},"X"),n.a.createElement("div",{className:"sideBar-menu","data-test":"sideBar-menu"},n.a.createElement(ne.a,null,n.a.createElement(ce.a,{action:!0,className:"sideBar-menu-title"},"MENU"),n.a.createElement(ce.a,{tag:"button",action:!0,className:"sideBar-menu-group"},n.a.createElement(s.b,{to:"/legume"},n.a.createElement("div",{className:"sideBar-link"},n.a.createElement("img",{src:"images/legume.png",className:"sideBar-image",alt:"","data-test":"home-image"}),n.a.createElement("h4",null,"Legume")))),n.a.createElement(ce.a,{tag:"button",action:!0,className:"sideBar-menu-group"},n.a.createElement(s.b,{to:"/meat"},n.a.createElement("div",{className:"sideBar-link"},n.a.createElement("img",{src:"images/meat.png",className:"sideBar-image",alt:"","data-test":"mattress-image"}),n.a.createElement("h4",null,"Meat")))),n.a.createElement(ce.a,{tag:"button",action:!0,className:"sideBar-menu-group"},n.a.createElement(s.b,{to:"/vegetables"},n.a.createElement("div",{className:"sideBar-link"},n.a.createElement("img",{src:"images/vegetable.png",className:"sideBar-image",alt:"","data-test":"bedBase-image"}),n.a.createElement("h4",null,"Vegetables")))),n.a.createElement(ce.a,{tag:"button",action:!0,className:"sideBar-menu-group"},n.a.createElement(s.b,{to:"/fruits"},n.a.createElement("div",{className:"sideBar-link"},n.a.createElement("img",{src:"images/fruit.png",className:"sideBar-image",alt:"","data-test":"mattress-image"}),n.a.createElement("h4",null,"Fruits")))),n.a.createElement(ce.a,{tag:"button",action:!0,className:"sideBar-menu-group"},n.a.createElement(s.b,{to:"/fish"},n.a.createElement("div",{className:"sideBar-link"},n.a.createElement("img",{src:"images/fish.png",className:"sideBar-image",alt:"","data-test":"mattress-image"}),n.a.createElement("h4",null,"Fish")))),n.a.createElement(ce.a,{tag:"button",action:!0,className:"sideBar-menu-group"},n.a.createElement(s.b,{to:"/drinks"},n.a.createElement("div",{className:"sideBar-link"},n.a.createElement("img",{src:"images/drinks.png",className:"sideBar-image",alt:"","data-test":"mattress-image"}),n.a.createElement("h4",null,"Drinks")))),n.a.createElement(ce.a,{tag:"button",action:!0,className:"sideBar-menu-group"},n.a.createElement(s.b,{to:"/frozen"},n.a.createElement("div",{className:"sideBar-link"},n.a.createElement("img",{src:"images/frozen.png",className:"sideBar-image",alt:"","data-test":"mattress-image"}),n.a.createElement("h4",null,"Frozen")))),n.a.createElement(ce.a,{tag:"button",action:!0,className:"sideBar-menu-group"},n.a.createElement(s.b,{to:"/pasta"},n.a.createElement("div",{className:"sideBar-link"},n.a.createElement("img",{src:"images/pasta.png",className:"sideBar-image",alt:"","data-test":"mattress-image"}),n.a.createElement("h4",null,"Pasta")))),n.a.createElement(ce.a,{tag:"button",action:!0,className:"sideBar-menu-group"},n.a.createElement(s.b,{to:"/sweets"},n.a.createElement("div",{className:"sideBar-link"},n.a.createElement("img",{src:"images/sweets.png",className:"sideBar-image",alt:"","data-test":"mattress-image"}),n.a.createElement("h4",null,"Sweets")))),n.a.createElement(ce.a,{tag:"button",action:!0,className:"sideBar-menu-group"},n.a.createElement(s.b,{to:"/sauces"},n.a.createElement("div",{className:"sideBar-link"},n.a.createElement("img",{src:"images/sauces.png",className:"sideBar-image",alt:"","data-test":"mattress-image"}),n.a.createElement("h4",null,"Sauces")))))))},se=function(e){var t=e.id,a=e.name,r=e.price,c=e.image,l=e.quantity,s=e.measure,o=Object(i.b)();return n.a.createElement("div",{className:"shoppingCart-product"},n.a.createElement("div",{className:"shoppingCart-image"},n.a.createElement("img",{src:""+"images/products/".concat(c),alt:"img"})),n.a.createElement("div",{className:"shoppingCart-product-description"},n.a.createElement("p",null,n.a.createElement("b",null,a)),n.a.createElement("p",null,s,", ",r,"\u20ac/und."),n.a.createElement("div",{className:"shoppingCart-product-buttons"},n.a.createElement(te,{id:t,quantity:l}))),n.a.createElement("h1",{className:"shoppingCart-product-price-total"},(r*l).toFixed(2)," \u20ac"),n.a.createElement("button",{className:"shoppingCart-product-eliminate",type:"button",onClick:function(){return o($(t))}},"X"))},ie=function(){var e=Object(r.useState)(365),t=Object(R.a)(e,2),a=t[0],c=t[1],l=Object(i.c)((function(e){return e.auth.token})),s=Object(M.f)(),o=Object(i.c)((function(e){return e.products.products})),m=Object(i.c)((function(e){return e.products.order})),u=Object(i.c)((function(e){return e.products.newProducts})),d=Object(i.b)(),p=Object(i.c)((function(e){return e.products.totalPrice})),E=[];return m.map((function(e){return o.map((function(t){return t._id===e&&t.quantity>0&&E.push(n.a.createElement(se,{key:t._id,id:t._id,name:t.name,group:t.group,description:t.description,price:t.price,image:t.image,quantity:t.quantity,measure:t.measure})),null})),null})),n.a.createElement("div",{style:{transform:"translateX(".concat(a,"px)")},className:"shoppingCart-container"},n.a.createElement("p",{className:"shoppingCart-header-totalItems"},"total items: ",E.length),n.a.createElement("div",{className:"shoppingCart-header"},n.a.createElement("button",{className:"shoppingCart-toggle",onClick:function(){window.innerWidth<600?c(70===a?365:70):c(0===a?365:0),d({type:"RESET_NOTIFICATIONS"})},type:"button"},0===a?n.a.createElement("p",{className:"shoppingCart-x"},"X"):n.a.createElement("div",null,n.a.createElement("img",{src:"images/trolly.png",className:"shoppingCart-header-img-trolly",alt:"img"}),0===u?null:n.a.createElement("div",{className:"shoppingCart-header-notification"},u)))),n.a.createElement("div",{className:"shoppingCart-list"},E),n.a.createElement("div",{className:"shoppingCart-footer"},n.a.createElement("p",{className:"shoppingCart-footer-totalPrice"},"Total ",p.toFixed(2)," \u20ac"),n.a.createElement("button",{className:"shoppingCart-checkout",type:"button",onClick:function(){l?s.push("/checkout"):s.push("/Auth")}},"CHECKOUT")))},oe=function(){return n.a.createElement("div",{className:"Footer-container"},n.a.createElement("div",{className:"Footer-box"},n.a.createElement("div",{className:"Footer-information"},n.a.createElement("div",{className:"Footer-aboutCompany"},n.a.createElement("h3",null,"More about Company"),n.a.createElement("p",null,"Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt."),n.a.createElement("p",null,"Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.")),n.a.createElement("div",{className:"Footer-Connected"},n.a.createElement("h3",null,"Keep Connected"),n.a.createElement("div",null,n.a.createElement("img",{src:"social_media_PNG/facebook.png",alt:"",width:"35",height:"35"}),n.a.createElement("p",null,"Like us on Facebook")),n.a.createElement("div",null,n.a.createElement("img",{src:"/social_media_PNG/twitter.png",alt:"",width:"35",height:"35"}),n.a.createElement("p",null,"Follow us on Twitter")),n.a.createElement("div",null,n.a.createElement("img",{src:"social_media_PNG/google.png",alt:"",width:"35",height:"35"}),n.a.createElement("p",null,"Add us on Google Plus")),n.a.createElement("div",null,n.a.createElement("img",{src:"social_media_PNG/instagram.png",alt:"",width:"35",height:"35"}),n.a.createElement("p",null,"Follow us on Instagram")),n.a.createElement("div",null,n.a.createElement("img",{src:"social_media_PNG/linkedin.png",alt:"",width:"35",height:"35"}),n.a.createElement("p",null,"Follow us on Linkedin"))),n.a.createElement("div",{className:"Footer-Contact"},n.a.createElement("h3",null,"Contact Information"),n.a.createElement("p",null,"The company name Lorem ipsum dolor, Glasglow Dr 40 Fe 72."),n.a.createElement("p",null,"1234567890"),n.a.createElement("p",null,"contact@example.com"))),n.a.createElement("div",{className:"Footer-copyrhigt"},n.a.createElement("p",null,"\xa9 2020 Simple App. All Rights Reserved | Design by JavSan"),n.a.createElement("p",null,"Company Information | Privacy Policy | Terms & Conditions"))))},me=function(e){var t=e.group,a=Object(i.c)((function(e){return e.products.products})),c=Object(i.c)((function(e){return e.products.isLoading})),l=Object(i.b)(),s=Object(M.h)();Object(r.useEffect)((function(){document.getElementById("Header-container-id").style.position="fixed"}),[]),Object(r.useEffect)((function(){l(W("search"===t?"search/".concat(s.id):t))}),[t,s.id,l]),a="offer"===t?a.filter((function(e){return 50===e.offer})):"search"===t?a.filter((function(e){return e.name.toLowerCase().includes(s.id)})):a.filter((function(e){return e.group===t}));var o=c?n.a.createElement("div",{className:"Products-container"},n.a.createElement(G.a,{color:"primary",className:"spinner"})):n.a.createElement("div",{className:"Products-container"},n.a.createElement("h1",null,t),n.a.createElement("div",{className:"Products-products"},a.map((function(e){return n.a.createElement(re,{key:e._id,id:e._id,name:e.name,measure:e.measure,group:e.group,description:e.description,price:e.price,image:e.image,assessment:e.assessment,quantity:e.quantity,offer:e.offer})}))));return n.a.createElement("div",null,n.a.createElement("div",{className:"Home-container"},n.a.createElement(le,null),n.a.createElement("div",null,"offer"!==t?null:n.a.createElement("img",{src:"images/alimentos2.png",className:"home-img",alt:"img"}),n.a.createElement("div",{className:"Home-body"},n.a.createElement("div",{className:"home-products"},o))),n.a.createElement(ie,null)),n.a.createElement(oe,null))},ue=function(e){var t=e.phase;return n.a.createElement("div",{className:"checkout-phases-container"},n.a.createElement("div",{className:"checkout-phases-line"}),n.a.createElement("div",{className:"checkout-phases-circles"},n.a.createElement("div",{className:"checkout-phase"},n.a.createElement("div",{className:"checkout-circle"},1!==t?null:n.a.createElement("div",{className:"checkout-phases-greenCircle"},n.a.createElement("p",null,"1")),t<=1?null:n.a.createElement("img",{src:"images/tick.png",alt:"",width:"30px",height:"30px"})),n.a.createElement("p",null,"Your Cart")),n.a.createElement("div",{className:"checkout-phase"},n.a.createElement("div",{className:"checkout-circle"},t>1?null:n.a.createElement("p",null,"2"),2!==t?null:n.a.createElement("div",{className:"checkout-phases-greenCircle"},n.a.createElement("p",null,"2")),t<=2?null:n.a.createElement("img",{src:"images/tick.png",alt:"",width:"30px",height:"30px"})),n.a.createElement("p",null,"Shipping")),n.a.createElement("div",{className:"checkout-phase"},n.a.createElement("div",{className:"checkout-circle"},t>2?null:n.a.createElement("p",null,"3"),3!==t?null:n.a.createElement("div",{className:"checkout-phases-greenCircle"},n.a.createElement("p",null,"3")),t<=3?null:n.a.createElement("img",{src:"images/tick.png",alt:"",width:"30px",height:"30px"})),n.a.createElement("p",null,"Payment")),n.a.createElement("div",{className:"checkout-phase"},n.a.createElement("div",{className:"checkout-circle"},t>3?null:n.a.createElement("p",null,"4"),4!==t?null:n.a.createElement("div",{className:"checkout-phases-greenCircle"},n.a.createElement("p",null,"4")),t<=4?null:n.a.createElement("img",{src:"images/tick.png",alt:"",width:"30px",height:"30px"})),n.a.createElement("p",null,"Summary"))))},de=function(e){var t=e.id,a=e.name,r=e.price,c=e.image,l=e.quantity,s=e.measure,o=Object(i.b)();return n.a.createElement("div",{className:"order-product"},n.a.createElement("div",{className:"order-image"},n.a.createElement("img",{src:""+"images/products/".concat(c),alt:"img"})),n.a.createElement("div",{className:"order-product-description"},n.a.createElement("p",{className:"order-product-description-name"},n.a.createElement("b",null,a)),n.a.createElement("p",{className:"order-product-description-price"},s,", ",r,"\u20ac/und.")),n.a.createElement("div",{className:"order-product-description-buttons"},n.a.createElement("button",{type:"button",onClick:function(){return o(Y(t))}},"-"),n.a.createElement("div",null,l),n.a.createElement("button",{type:"button",onClick:function(){return o(X(t))}},"+")),n.a.createElement("div",{className:"order-product-price-total"},(r*l).toFixed(2)," \u20ac"),n.a.createElement("button",{className:"order-product-eliminate",type:"button",onClick:function(){return o($(t))}},"X"))},pe=function(e){var t=e.nextPhase,a=Object(i.c)((function(e){return e.products.products})),r=Object(i.c)((function(e){return e.auth.userId})),c=Object(i.c)((function(e){return e.products.order})),l=Object(i.b)(),s=Object(i.c)((function(e){return e.products.totalPrice})),o=[];return c.map((function(e){return a.map((function(t){return t._id===e&&t.quantity>0&&o.push(n.a.createElement(de,{key:t._id,id:t._id,name:t.name,group:t.group,description:t.description,price:t.price,image:t.image,quantity:t.quantity,measure:t.measure})),null})),null})),n.a.createElement("div",{className:"order-container"},n.a.createElement("div",{className:"order-products"},n.a.createElement("div",{className:"order-products-header"},n.a.createElement("p",{className:"order-products-header-description"},"Description"),n.a.createElement("p",{className:"order-products-header-qty"},"Qty"),n.a.createElement("p",{className:"order-products-header-X"},"Total")),n.a.createElement("div",{className:"order-products-list"},o)),n.a.createElement("div",{className:"checkout-price"},n.a.createElement("div",{className:"checkout-price-name"},n.a.createElement("p",null,"Sub-Total"),n.a.createElement("p",null,"VAT"),n.a.createElement("h4",null,"Total Price")),n.a.createElement("div",null,n.a.createElement("p",null,s.toFixed(2),"\u20ac"),n.a.createElement("p",null," ",(21*s/100).toFixed(2),"\u20ac"),n.a.createElement("h4",null,(21*s/100+s).toFixed(2),"\u20ac"))),n.a.createElement("div",{className:"order-nexButton-box"},n.a.createElement("button",{className:"checkout-nextButton",id:"checkout-nextButton-id",type:"button",onClick:function(){var e=a.filter((function(e){return e.quantity>0})).map((function(e){return{productID:e._id,quantity:e.quantity}})),n={pvp:s.toFixed(2),total:(21*s/100+s).toFixed(2)};l(function(e){return{type:"CONFIRM_ORDER_PRODUCTS",payload:e}}({products:e,price:n,userId:r})),t()}},"Next")))},Ee=a(96),ge=a(97),be=a(98),he=a(99),fe=function(e){var t=e.submit,a=e.backHandler,c=Object(r.useState)(!1),l=Object(R.a)(c,2),s=l[0],o=l[1],m=Object(i.b)(),u=Object(r.useState)({name:"",country:"Spain",address:"",zipCode:"",phone:""}),d=Object(R.a)(u,2),p=d[0],E=d[1];Object(r.useEffect)((function(){!function(){var e=p.name.length>=3,t=p.address.length>=1,a=p.zipCode.length>=5,r=p.phone>0;e&&t&&a&&r&&o(!0)}()}),[p]);var b=function(e){E(Object(g.a)(Object(g.a)({},p),{},Object(H.a)({},e.target.name,e.target.value)))};return n.a.createElement(Ee.a,{className:"shipping-container"},n.a.createElement(ge.a,null,n.a.createElement(ge.a,null,n.a.createElement(be.a,{for:"examplePassword"},"Full Name"),n.a.createElement(he.a,{type:"text",name:"name",id:"examplePassword",placeholder:"Enter full name",value:p.name,onChange:b,minLength:"3",required:!0})),n.a.createElement(be.a,{for:"exampleSelect"},"country"),n.a.createElement(he.a,{type:"select",name:"country"},n.a.createElement("option",null,"Spain"),n.a.createElement("option",null,"United Kingdom"),n.a.createElement("option",null,"France"),n.a.createElement("option",null,"Germany"),n.a.createElement("option",null,"Italy"))),n.a.createElement(ge.a,null,n.a.createElement(be.a,{for:"examplePassword"},"Address"),n.a.createElement(he.a,{type:"text",name:"address",id:"examplePassword",placeholder:"Current address...",value:p.address,onChange:b,minLength:"1",required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,{for:"examplePassword"},"ZIP Code"),n.a.createElement(he.a,{type:"text",name:"zipCode",id:"examplePassword",placeholder:"Enter full name",value:p.zipCode,onChange:b,minLength:"5",required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,{for:"examplePassword"},"Phone Number"),n.a.createElement(he.a,{type:"number",name:"phone",id:"examplePassword",placeholder:"Current address...",value:p.phone,onChange:b,pattern:"/^[0-9]+$/",required:!0})),n.a.createElement("div",{className:"checkout-nextBack-buttons"},n.a.createElement("button",{type:"submit",id:"checkout-backButton-id",className:"checkout-nextButton",onClick:function(e){return a(e)}},"Back"),n.a.createElement("button",{type:"submit",id:"checkout-nextButton-id",className:"checkout-nextButton",onClick:function(e){return function(e){s&&(e.preventDefault(),m({type:"CONFIRM_SHIPPING_DATA",payload:p}),t())}(e)}},"Next")))},ve=function(e){var t=e.submit,a=e.backHandler,c=Object(r.useState)(!1),l=Object(R.a)(c,2),s=l[0],o=l[1],m=Object(i.b)(),u=Object(r.useState)({paymentMethod:"card",firstName:"",lastName:"",cardNumber:"",expiration:"",cvcCode:""}),d=Object(R.a)(u,2),p=d[0],E=d[1];Object(r.useEffect)((function(){!function(){var e=p.firstName.length>=3,t=p.lastName.length>=3,a=12===p.cardNumber.length,r=function(e){var t=e.split(new RegExp(["\\.","\\-","\\/"].join("|"),"g")),a=new Date(t[0],t[1]-1,t[2]);return a.getFullYear()===parseInt(t[0],10)&&a.getMonth()+1===parseInt(t[1],10)}(p.expiration),n=p.cvcCode>0;e&&t&&a&&r&&n&&o(!0)}()}),[p]);var b=function(e){E(Object(g.a)(Object(g.a)({},p),{},Object(H.a)({},e.target.name,e.target.value)))};return n.a.createElement("form",{className:"payment-container"},n.a.createElement("p",{className:"payment-method-title"},"Payment Method"),n.a.createElement("div",{className:"payment-method"},n.a.createElement("div",null,n.a.createElement("img",{alt:"img",src:"images/creditCard.png"})),n.a.createElement("div",{className:"payment-method-2"},n.a.createElement("img",{alt:"img",src:"images/paypal.png"})),n.a.createElement("div",null,n.a.createElement("img",{alt:"img",src:"images/e-wallet.png"}))),n.a.createElement("div",{className:"payment-card-details"},n.a.createElement("div",null,n.a.createElement(be.a,{for:"name"},"Personal Details"),n.a.createElement(he.a,{type:"text",name:"firstName",id:"name",placeholder:"First name",minLength:"3",value:p.firstName,onChange:b,required:!0})),n.a.createElement("div",null,n.a.createElement(be.a,{for:"lastName",className:"payment-dot"},"\xb7"),n.a.createElement(he.a,{type:"text",name:"lastName",id:"examplePassword",placeholder:"Last name",value:p.lastName,onChange:b,minLength:"3",required:!0}))),n.a.createElement("div",{className:"payment-card-number"},n.a.createElement(be.a,{for:"cardNumber"},"Card number"),n.a.createElement(he.a,{type:"text",name:"cardNumber",id:"cardNumber",placeholder:"Enter card number",value:p.cardNumber,onChange:b,minLength:"12",maxLength:"12",required:!0})),n.a.createElement("div",{className:"payment-card-details"},n.a.createElement("div",null,n.a.createElement(be.a,{for:"expiration"},"Expiration"),n.a.createElement(he.a,{type:"date",name:"expiration",id:"expiration",placeholder:"Date of expiration",value:p.expiration,onChange:b,required:!0})),n.a.createElement("div",null,n.a.createElement(be.a,{for:"cvc",className:"payment-cvc"},"CVC Code"),n.a.createElement(he.a,{type:"number",name:"cvcCode",id:"cvc",placeholder:"Enter CVC Code",value:p.cvcCode,onChange:b,min:"1",required:!0}))),n.a.createElement("div",{className:"checkout-nextBack-buttons"},n.a.createElement("button",{type:"submit",id:"checkout-backButton-id",className:"checkout-nextButton",onClick:function(e){return a(e)}},"Back"),n.a.createElement("button",{type:"submit",id:"checkout-nextButton-id",className:"checkout-nextButton",onClick:function(e){return function(e){s&&(e.preventDefault(),m({type:"CONFIRM_PAYMENT_DATA",payload:p}),t())}(e)}},"Next")))},Ne=a(100),Oe=function(e){var t=e.modal,a=e.responseText,r=e.modalHandler;return n.a.createElement(J.a,{isOpen:t},n.a.createElement(Q.a,{className:"summary-modal-body"},n.a.createElement("div",null,a),n.a.createElement("div",null,n.a.createElement("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},n.a.createElement("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),n.a.createElement("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})))),n.a.createElement(Ne.a,{className:"summary-modal-footer"},n.a.createElement("button",{onClick:r,type:"button"},"Go Home")," "))},ye=function(){var e=Object(i.c)((function(e){return e.orderData})),t=Object(r.useState)(!1),a=Object(R.a)(t,2),c=a[0],l=a[1],s=Object(r.useState)(!1),o=Object(R.a)(s,2),m=o[0],u=o[1],d=Object(M.f)(),p=Object(r.useState)(""),E=Object(R.a)(p,2),g=E[0],b=E[1],h=Object(i.b)(),f=e.paymentData.cardNumber,v=f.substr(f.length-3,f.length),N=function(){var t=Object(B.a)(S.a.mark((function t(){var a,r,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l(!0),!(a=q.a.get("token"))){t.next=18;break}return r={"Content-Type":"application/json","x-auth-token":a},t.prev=4,t.next=7,A.a.post("http://localhost:3000/api/orders/newOrder",e,{headers:r});case 7:n=t.sent,console.log(n),b(n.data),l(!1),u(!m),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(4),console.log(t.t0),l(!1);case 18:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(){return t.apply(this,arguments)}}();return n.a.createElement("div",{className:"summary-container"},n.a.createElement("div",{className:"summary-box"},n.a.createElement("div",{className:"summary-imageBox"},n.a.createElement("h1",null,"\u20ac")),n.a.createElement("div",{className:"summary-price"},n.a.createElement("div",null,n.a.createElement("p",null,"Price"),n.a.createElement("h6",null,e.price.pvp," \u20ac")),n.a.createElement("div",null,n.a.createElement("p",null,"VAT"),n.a.createElement("h6",null,e.price.total-e.price.pvp," \u20ac")),n.a.createElement("div",null,n.a.createElement("p",null,"Total Price"),n.a.createElement("h6",{id:"summary-total-price-id"},e.price.total," \u20ac")))),n.a.createElement("div",{className:"summary-box"},n.a.createElement("div",{className:"summary-imageBox"},n.a.createElement("img",{src:"images/delivery2.png",alt:"img",width:"50px"})),n.a.createElement("div",null,n.a.createElement("p",null,"Delivery Address:"),n.a.createElement("p",null,e.shippingData.address))),n.a.createElement("div",{className:"summary-box"},n.a.createElement("div",{className:"summary-imageBox"},n.a.createElement("img",{src:"images/creditCard.png",alt:"img",width:"40px"})),n.a.createElement("div",null,n.a.createElement("p",null,"Card Number ends in:"),n.a.createElement("h6",null,"**** **** **** *",v))),n.a.createElement("div",{className:"summary-pay"},n.a.createElement("button",{type:"submit",id:"checkout-pay-id",className:"checkout-nextButton",onClick:N},"Pay"),c&&n.a.createElement(G.a,{color:"primary",className:"summary-spinner"})),n.a.createElement(Oe,{modal:m,responseText:g,modalHandler:function(){h({type:"CLEAN_ORDER_DATA"}),h({type:"REMOVE_ALL_PRODUCTS"}),d.push("/")}}))},je=function(){var e=Object(r.useState)(1),t=Object(R.a)(e,2),a=t[0],c=t[1],l=function(){c((function(e){return e-1})),window.scrollTo(0,0)};Object(r.useEffect)((function(){var e=function(){document.getElementById("Header-container-id").style.position="absolute";var e=window.innerWidth<370?.85*window.innerHeight:.88*window.innerHeight;document.getElementById("checkout-container-id").style.minHeight=e>700?"700px":e+"px"};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]);var s=function(){c((function(e){return e+1})),window.scrollTo(0,0)},i=n.a.createElement(pe,null);switch(a){case 1:i=n.a.createElement(pe,{nextPhase:s});break;case 2:i=n.a.createElement(fe,{submit:s,backHandler:l});break;case 3:i=n.a.createElement(ve,{submit:s,backHandler:l});break;case 4:i=n.a.createElement(ye,null)}return n.a.createElement("div",{className:"checkout-container",id:"checkout-container-id"},n.a.createElement("div",{className:"checkout-pahses"},n.a.createElement(ue,{phase:a})),n.a.createElement("div",{className:"checkout-content"},i))},we=function(e){var t=e.displayError,a=e.errorMsg,r=e.setDisplayError,c=e.password,l=e.passwordHandler,s=e.nextButtonHandler,i=e.isLoading;return n.a.createElement("div",{className:"settings-auth"},n.a.createElement("h4",{className:"settings-title"},"Introduce Password"),t&&n.a.createElement("div",{className:"login-errorBox"},n.a.createElement("span",null,a),n.a.createElement("span",{role:"button",onClick:function(){return r(!1)}},"X")),n.a.createElement(ge.a,null,n.a.createElement(he.a,{type:"password",name:"password",id:"examplePassword",value:c,onChange:l,required:!0})),n.a.createElement("button",{type:"button",onClick:s},"Next"),i&&n.a.createElement(G.a,{color:"primary"}))},ke=function(e){var t=e.displayError,a=e.errorMsg,r=e.setDisplayError,c=e.form,l=e.formHandler,s=e.changeInfoHandler,i=e.isLoading,o=e.passwordForm,m=e.passwordFormHandler,u=e.changePasswordHandler,d=e.switchModal;return n.a.createElement("div",{className:"settings-container"},n.a.createElement("h4",{className:"settings-title"},"Personal Information"),t&&n.a.createElement("div",{className:"login-errorBox"},n.a.createElement("span",null,a),n.a.createElement("span",{role:"button",onClick:function(){return r(!1)}},"X")),n.a.createElement(Ee.a,{className:"shipping-container"},n.a.createElement(ge.a,null,n.a.createElement(be.a,{for:"examplePassword"},"First Name"),n.a.createElement(he.a,{type:"text",name:"firstName",id:"examplePassword",value:c.firstName,minLength:"3",onChange:l,required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,{for:"exampleSelect"},"Last Name"),n.a.createElement(he.a,{type:"text",name:"lastName",id:"examplePassword",value:c.lastName,minLength:"3",onChange:l,required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,{for:"examplePassword"},"Email"),n.a.createElement(he.a,{type:"email",name:"email",id:"examplePassword",value:c.email,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",onChange:l,required:!0})),n.a.createElement("button",{type:"submit",onClick:s},"Change Info"),i&&n.a.createElement(G.a,{color:"primary",className:"settings-spinner"})),n.a.createElement(Ee.a,{className:"shipping-container",id:"settings-changePassword-id"},n.a.createElement(ge.a,null,n.a.createElement(be.a,{for:"examplePassword"},"New Password"),n.a.createElement(he.a,{type:"password",name:"password",id:"examplePassword",value:o.password,minLength:"8",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",onChange:m,required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,{for:"examplePassword"},"Confirm Password"),n.a.createElement(he.a,{type:"password",name:"confirmPassword",id:"examplePassword",minLength:"8",value:o.confirmPassword,pattern:o.password,title:"Must match the previous entry.",onChange:m,required:!0})),n.a.createElement("button",{type:"submit",onClick:u},"Change Password"),i&&n.a.createElement(G.a,{color:"primary",className:"settings-spinner"})),n.a.createElement("button",{type:"button",className:"settings-deleteButton",onClick:d},"Delete Account"))},Ce=function(e){var t=e.modal,a=e.deleteAccModal,r=e.modalHandler,c=e.deleteAccountHandler;return n.a.createElement(J.a,{isOpen:t},n.a.createElement(Q.a,{className:"summary-modal-body"},n.a.createElement("div",null,a?n.a.createElement("p",null,"Are your sore you want to delete the account"):n.a.createElement("p",null,"Your data has been updated successfully")),n.a.createElement("div",null,n.a.createElement("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},n.a.createElement("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),n.a.createElement("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})))),n.a.createElement(Ne.a,{className:"summary-modal-footer"},a?n.a.createElement("button",{type:"button",onClick:c},"Delete Account"):n.a.createElement("div",null,n.a.createElement("button",{type:"button",onClick:r},"Go Home"))))},xe=function(){var e=Object(r.useState)(""),t=Object(R.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(!1),s=Object(R.a)(l,2),o=s[0],m=s[1],u=Object(r.useState)(!1),d=Object(R.a)(u,2),p=d[0],E=d[1],b=Object(r.useState)(!1),h=Object(R.a)(b,2),f=h[0],v=h[1],N=Object(r.useState)(!1),O=Object(R.a)(N,2),y=O[0],j=O[1],w=Object(r.useState)(!1),k=Object(R.a)(w,2),C=k[0],x=k[1],P=Object(r.useState)(""),I=Object(R.a)(P,2),_=I[0],D=I[1],T=Object(r.useState)(!1),q=Object(R.a)(T,2),L=q[0],F=q[1],z=Object(M.f)(),U=Object(i.c)((function(e){return e.auth.userId})),G=Object(r.useState)(!1),V=Object(R.a)(G,2),X=V[0],Y=V[1],$=Object(r.useState)({firstName:"",lastName:"",email:""}),W=Object(R.a)($,2),Z=W[0],J=W[1],K=Object(r.useState)({password:"",confirmPassword:""}),Q=Object(R.a)(K,2),ee=Q[0],te=Q[1],ae=function(){return x(!C)},re=function(){var e=Object(B.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,A.a.post("http://localhost:3000/api/user/me",{password:a,_id:U});case 4:t=e.sent,J(Object(g.a)(Object(g.a)({},Z),{},{firstName:t.data.firstName,lastName:t.data.lastName,email:t.data.email})),v(!1),Y(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),v(!1),F(!0),D(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){!function(){var e=Z.firstName.length>=3,t=Z.lastName.length>=3,a=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/.test(Z.email);m(!!(e&&t&&a))}()}),[Z]),Object(r.useEffect)((function(){!function(){var e=ee.password.length>=8&&/\d/.test(ee.password)&&/[a-z]/.test(ee.password)&&/[A-Z]/.test(ee.password),t=ee.confirmPassword===ee.password;E(!(!e||!t))}()}),[ee]);var ne=function(){var e=Object(B.a)(S.a.mark((function e(t){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=18;break}return t.preventDefault(),v(!0),e.prev=3,e.next=6,A.a.put("http://localhost:3000/api/user/".concat(U),Object(g.a)(Object(g.a)({},Z),{},{password:a}));case 6:r=e.sent,console.log(r),v(!1),Y(!0),ae(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),v(!1),F(!0),D(e.t0.response.data);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(B.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=18;break}return t.preventDefault(),v(!0),e.prev=3,e.next=6,A.a.put("http://localhost:3000/api/user/".concat(U),Object(g.a)(Object(g.a)({},Z),{},{password:ee.password}));case 6:a=e.sent,console.log(a),v(!1),Y(!0),ae(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),F(!0),v(!1),D(e.t0.response.data);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(B.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("http://localhost:3000/api/user/".concat(U));case 3:t=e.sent,console.log(t),v(!1),Y(!0),ae(),z.push("/"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),F(!0),v(!1),D(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",null,X?n.a.createElement(ke,{displayError:L,errorMsg:_,setDisplayError:F,form:Z,formHandler:function(e){J(Object(g.a)(Object(g.a)({},Z),{},Object(H.a)({},e.target.name,e.target.value)))},changeInfoHandler:ne,isLoading:f,passwordForm:ee,passwordFormHandler:function(e){te(Object(g.a)(Object(g.a)({},ee),{},Object(H.a)({},e.target.name,e.target.value)))},changePasswordHandler:ce,switchModal:function(){ae(),j(!0)}}):n.a.createElement(we,{displayError:L,errorMsg:_,setDisplayError:F,password:a,passwordHandler:function(e){return c(e.target.value)},nextButtonHandler:re,isLoading:f}),n.a.createElement(Ce,{modal:C,deleteAccModal:y,modalHandler:function(){return z.push("/")},deleteAccountHandler:le}))},Pe=function(e){var t=e.viewOrder,a=e.date,r=e.price,c=e.id;return n.a.createElement("div",{className:"orders-orderBox"},n.a.createElement("div",{className:"orders-orderBox-header"},n.a.createElement("p",null,"Order 1"),n.a.createElement("div",{className:"orders-orderBox-header-status"},n.a.createElement("p",null,"Order Delivered"))),n.a.createElement("div",{className:"orders-orderInfo"},n.a.createElement("div",null,n.a.createElement("p",null,"Order Date:"),n.a.createElement("p",null,"Delivery Time:"),n.a.createElement("p",{className:"orders-orderInfo-prcie"},"Total Price:")),n.a.createElement("div",{className:"orders-orderInfo-values"},n.a.createElement("p",null,a),n.a.createElement("p",null,"13th April"),n.a.createElement("p",{className:"orders-orderInfo-values-price"},"$",r))),n.a.createElement("button",{className:"orders-orderBox-button",type:"button",onClick:function(){return t(c)}},"View order"))},Ie=a(101),_e=function(e){var t=e.name,a=e.price,r=e.image,c=e.quantity,l=e.measure;return n.a.createElement("div",{className:"orderItems-product"},n.a.createElement("div",{className:"orderItems-image"},n.a.createElement("img",{src:""+"images/products/".concat(r),alt:"img"})),n.a.createElement("div",{className:"orderItems-product-description"},n.a.createElement("p",{className:"orderItems-product-description-name"},n.a.createElement("b",null,t)),n.a.createElement("p",{className:"orderItems-product-description-price"},l,", ",a,"\u20ac/und.")),n.a.createElement("div",{className:"order-product-description-buttons"},n.a.createElement("div",null,c)),n.a.createElement("div",{className:"orderItems-product-price-total"},(a*c).toFixed(2)," \u20ac"))},De=function(e){var t=e.products;return n.a.createElement("div",{className:"orderItems-container"},n.a.createElement("div",{className:"orderItems-products-header",id:"prueba4"},n.a.createElement("p",{className:"orderItems-products-header-description"},"Description"),n.a.createElement("p",{className:"orderItems-products-header-qty"},"Qty"),n.a.createElement("p",{className:"orderItems-products-header-total"},"Price")),n.a.createElement("div",{className:"orderItems-products-list",id:"prueba5"},t.map((function(e){return n.a.createElement(_e,{key:e._id,id:e._id,name:e.name,group:e.group,description:e.description,price:e.price,image:e.image,quantity:e.quantity,measure:e.measure})}))))},Se=function(e){var t=e.boxToggle,a=e.orderInfo,r=a.DeliveryAddress,c=a.OrderDate,l=a.DeliveryTime,s=a.SubTotal,i=a.DeliveryFee,o=a.Total,m=a.products;return n.a.createElement("div",{className:"orders-orderDetails",id:"prueba"},n.a.createElement("div",{className:"orders-orderDetails-up",id:"prueba2"},n.a.createElement("div",{className:"orders-orderDetails-title"},n.a.createElement("h4",null,"Order Details"),n.a.createElement("button",{onClick:t,type:"button"},"X")),n.a.createElement("div",{className:"orders-delivery-info"},n.a.createElement("div",{className:"orders-delivery-info-1"},n.a.createElement("div",null,n.a.createElement("p",null,"Delivery Address:"),n.a.createElement("p",null,"Order Date: "),n.a.createElement("p",null,"Delivery Time: ")),n.a.createElement("div",null,n.a.createElement("p",null,r),n.a.createElement("p",null,c),n.a.createElement("p",null,l))),n.a.createElement("div",{className:"orders-delivery-info-2"},n.a.createElement("div",null,n.a.createElement("p",null,"Sub Total"),n.a.createElement("p",null,"Delivery Fee"),n.a.createElement("p",null,"Total")),n.a.createElement("div",null,n.a.createElement("p",null,s),n.a.createElement("p",null,i),n.a.createElement("p",null,o)))),n.a.createElement("div",{className:"orders-deliveryStatus"},n.a.createElement("div",{className:"orders-steps"},n.a.createElement("div",{className:"orders-circle orders-ticked"},n.a.createElement("img",{src:"images/tick2.png",className:"orders-tick",alt:"img"})),n.a.createElement("div",{className:"orders-circle orders-ticked"},n.a.createElement("img",{src:"images/tick2.png",className:"orders-tick",alt:"img"})),n.a.createElement("div",{className:"orders-circle"},"3")),n.a.createElement(Ie.a,{value:50,className:"orders-progress"}),n.a.createElement("div",{className:"orders-steps"},n.a.createElement("p",null,"Order Recived"),n.a.createElement("p",null,"Order On The Way"),n.a.createElement("p",null,"Order Delivered")))),n.a.createElement("div",{className:"orders-orderDetails-down",id:"prueba3"},n.a.createElement(De,{products:m})))},Be=function(){var e=Object(r.useState)(!0),t=Object(R.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)({DeliveryAddress:!1,OrderDate:!1,DeliveryTime:!1,SubTotal:!1,DeliveryFee:!1,Total:!1,products:[]}),s=Object(R.a)(l,2),o=s[0],m=s[1],u=Object(i.c)((function(e){return e.auth.userId})),d=Object(r.useState)([]),p=Object(R.a)(d,2),b=p[0],h=p[1],f=function(){var e=document.getElementById("prueba"),t=document.getElementById("prueba2"),a=document.getElementById("prueba3"),r=e&&t&&e.offsetHeight-t.offsetHeight;a&&(a.style.height="".concat(r-20,"px"))};Object(r.useEffect)((function(){function e(){return(e=Object(B.a)(S.a.mark((function e(){var t,a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=q.a.get("token"),a={"Content-Type":"application/json","x-auth-token":t},e.next=5,A.a.post("http://localhost:3000/api/orders",{userId:u},{headers:a});case 5:r=e.sent,h(Object(E.a)(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[u]),Object(r.useEffect)((function(){return window.addEventListener("resize",f),f(),function(){window.removeEventListener("resize",f)}}),[f]);return n.a.createElement("div",{className:"orders-container"},n.a.createElement("div",{className:"orders-ordersList"},n.a.createElement("h4",null,"My Orders"),b.map((function(e,t){return n.a.createElement(Pe,{key:t,id:t,price:e.price.total,date:e.dateOrder,viewOrder:function(e){return function(e){c(!0);var t=b[e];m(Object(g.a)(Object(g.a)({},o),{},{DeliveryAddress:t.shippingData.address,OrderDate:t.dateOrder,DeliveryTime:!1,SubTotal:t.price.pvp,DeliveryFee:!1,Total:t.price.total,products:t.products.map((function(e){return Object(g.a)({},e)}))}))}(e)}})}))),a&&n.a.createElement(Se,{boxToggle:function(){return c(!1)},orderInfo:o}))},Te=function(e){var t=e.signInForm,a=e.signInFormHandler,r=e.submitHandler,c=e.isLoading;return n.a.createElement(Ee.a,{className:"login-form"},n.a.createElement(ge.a,null,n.a.createElement(be.a,{for:"email"},"Your email"),n.a.createElement(he.a,{type:"email",name:"email",id:"login-input-email",placeholder:"Enter your email",value:t.email,onChange:function(e){return a(e)},pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",title:"'characters@characters.domain'",required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,null,"Your password"),n.a.createElement(he.a,{type:"password",name:"password",placeholder:"Enter your password",value:t.password,onChange:function(e){return a(e)},required:!0})),n.a.createElement("button",{onClick:function(e){return r(e)},type:"submit"},"LOGIN"),c&&n.a.createElement(G.a,{color:"primary",className:"login-spinner"}))},qe=function(e){var t=e.signUpForm,a=e.signUpFormHandler,r=e.submitHandler,c=e.isLoading;return n.a.createElement(Ee.a,{className:"login-form"},n.a.createElement(ge.a,null,n.a.createElement(be.a,null,"First Name"),n.a.createElement(he.a,{type:"text",name:"firstName",placeholder:"Enter your first name",value:t.firstName,onChange:a,minLength:"3",required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,null,"Last Name"),n.a.createElement(he.a,{type:"text",name:"lastName",placeholder:"Enter your last name",value:t.lastName,onChange:a,minLength:"3",required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,null,"Your email"),n.a.createElement(he.a,{type:"email",name:"email",placeholder:"Enter your email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",title:"'characters@characters.domain'",value:t.email,onChange:a,required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,null,"Confirm email"),n.a.createElement(he.a,{type:"email",name:"confirmEmail",placeholder:"Confirm your email",pattern:t.email,title:"Must match the previous entry.",value:t.confirmEmail,onChange:a,required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,null,"Your password"),n.a.createElement(he.a,{type:"password",name:"password",id:"login-input-password",placeholder:"Enter your Password",value:t.password,onChange:a,minLength:"8",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",required:!0})),n.a.createElement(ge.a,null,n.a.createElement(be.a,null,"Confirm password"),n.a.createElement(he.a,{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:t.confirmPassword,onChange:a,minLength:"8",pattern:t.password,title:"Must match the previous entry.",required:!0})),n.a.createElement("button",{onClick:function(e){return r(e)},type:"submit"},"CREATE ACCOUNT"),c&&n.a.createElement(G.a,{color:"primary",className:"login-spinner"}))},Le=function(){var e=Object(i.b)(),t=Object(M.f)(),a=Object(r.useState)(!1),c=Object(R.a)(a,2),l=c[0],s=c[1],o=Object(r.useState)("login-switch-id-1"),m=Object(R.a)(o,2),u=m[0],d=m[1],p=Object(r.useState)(!1),E=Object(R.a)(p,2),b=E[0],h=E[1],f=Object(r.useState)(!1),v=Object(R.a)(f,2),N=v[0],O=v[1],y=Object(r.useState)(""),j=Object(R.a)(y,2),w=j[0],k=j[1],C=Object(r.useState)({password:"",email:""}),x=Object(R.a)(C,2),P=x[0],I=x[1],_=Object(r.useState)({firstName:"",lastName:"",password:"",confirmPassword:"",email:"",confirmEmail:""}),D=Object(R.a)(_,2),T=D[0],L=D[1],z=function(){var a=Object(B.a)(S.a.mark((function a(r){var n,c,s,i,o,m,d,p,E;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!l){a.next=21;break}return r.preventDefault(),h(!0),n="login-switch-id-1"===u?P:{firstName:T.firstName,lastName:T.lastName,password:T.password,email:T.email},c="login-switch-id-1"===u?"http://localhost:3000/api/auth":"http://localhost:3000/api/user",a.prev=5,a.next=8,A.a.post(c,n);case 8:s=a.sent,i=s.data,o=i.firstName,m=i.lastName,d=i.email,p=i._id,E=i.token,q.a.set("token",E),e(F(E,o,m,d,p)),h(!1),t.push("/"),a.next=21;break;case 16:a.prev=16,a.t0=a.catch(5),h(!1),O(!0),k(a.t0.response.data);case 21:case"end":return a.stop()}}),a,null,[[5,16]])})));return function(e){return a.apply(this,arguments)}}();Object(r.useEffect)((function(){!function(){if("login-switch-id-2"===u){var e=T.firstName.length>=3,t=T.lastName.length>=3,a=T.password.length>=8&&/\d/.test(T.password)&&/[a-z]/.test(T.password)&&/[A-Z]/.test(T.password),r=T.confirmPassword===T.password,n=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/.test(T.email),c=T.confirmEmail===T.email;s(!!(e&&t&&a&&r&&c&&n))}else{var l=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/.test(P.email);s(!!l)}}()}),[P,T,u]);var U=function(e){var t=document.getElementById("login-switch-id-1"),a=document.getElementById("login-switch-id-2");t.classList.remove("login-switch-style"),a.classList.remove("login-switch-style"),e.target.classList.add("login-switch-style"),d(e.target.id),I({password:"",email:""}),L({firstName:"",lastName:"",password:"",confirmPassword:"",email:"",confirmEmail:""})};return n.a.createElement("div",{className:"login-container"},n.a.createElement("div",{className:"login-switch"},n.a.createElement("h3",{id:"login-switch-id-1",className:"login-switch-title login-switch-style",onClick:U},"Sign in"),n.a.createElement("h3",{id:"login-switch-id-2",className:"login-switch-title",onClick:U},"Sign up")),N&&n.a.createElement("div",{className:"login-errorBox"},n.a.createElement("span",null,w),n.a.createElement("span",{role:"button",onClick:function(){return O(!1)}},"X")),"login-switch-id-1"===u?n.a.createElement(Te,{signInForm:P,signInFormHandler:function(e){return function(e){I(Object(g.a)(Object(g.a)({},P),{},Object(H.a)({},e.target.name,e.target.value)))}(e)},submitHandler:function(e){return z(e)},isLoading:b}):n.a.createElement(qe,{signUpForm:T,signUpFormHandler:function(e){return function(e){L(Object(g.a)(Object(g.a)({},T),{},Object(H.a)({},e.target.name,e.target.value)))}(e)},submitHandler:function(e){return z(e)},isLoading:b}),"login-switch-id-1"===u&&n.a.createElement("p",{className:"login-forgot-passowrd"},"Forgot Password?"))},Ae=Object(M.i)((function(){var e=Object(i.c)((function(e){return e.auth.token}));return n.a.createElement("div",{className:"routes"},n.a.createElement("div",null,n.a.createElement(M.c,null,n.a.createElement(M.a,{path:"/legume"},n.a.createElement(me,{group:"legumes"})),n.a.createElement(M.a,{path:"/meat"},n.a.createElement(me,{group:"meat"})),n.a.createElement(M.a,{path:"/vegetables"},n.a.createElement(me,{group:"vegetables"})),n.a.createElement(M.a,{path:"/fruits"},n.a.createElement(me,{group:"fruits"})),n.a.createElement(M.a,{path:"/fish"},n.a.createElement(me,{group:"fish"})),n.a.createElement(M.a,{path:"/drinks"},n.a.createElement(me,{group:"drinks"})),n.a.createElement(M.a,{path:"/frozen"},n.a.createElement(me,{group:"frozen"})),n.a.createElement(M.a,{path:"/pasta"},n.a.createElement(me,{group:"pasta"})),n.a.createElement(M.a,{path:"/sweets"},n.a.createElement(me,{group:"sweets"})),n.a.createElement(M.a,{path:"/sauces"},n.a.createElement(me,{group:"sauces"})),n.a.createElement(M.a,{path:"/search/:id"},n.a.createElement(me,{group:"search"})),n.a.createElement(M.a,{path:"/checkout"},e?n.a.createElement(je,null):n.a.createElement(Le,null)),n.a.createElement(M.a,{path:"/settings"},e?n.a.createElement(xe,null):n.a.createElement(Le,null)),n.a.createElement(M.a,{path:"/orders"},e?n.a.createElement(Be,null):n.a.createElement(Le,null)),n.a.createElement(M.a,{path:"/Auth"},n.a.createElement(Le,null)),n.a.createElement(M.a,{exact:!0,path:"/"},n.a.createElement(me,{group:"offer"})))))})),Fe=function(){var e=Object(i.b)();return Object(r.useEffect)((function(){e(function(){var e=Object(B.a)(S.a.mark((function e(t){var a,r,n,c,l,s,i,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=q.a.get("token"))){e.next=14;break}return r={"Content-Type":"application/json","x-auth-token":a},e.prev=3,e.next=6,A.a.post("http://localhost:3000/api/auth/verifyToken",null,{headers:r});case 6:n=e.sent,c=n.data,l=c.firstName,s=c.lastName,i=c.email,o=c._id,t(F(a,l,s,i,o)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),q.a.remove("token",{path:""});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}())})),n.a.createElement("div",{className:"App-container","data-test":"component-app"},n.a.createElement(U,null),n.a.createElement("div",{className:"App-body","data-test":"App-body"},n.a.createElement(Ae,null)))};a(88),a(89);Z=Fe,l.a.render(n.a.createElement(i.a,{store:_},n.a.createElement(s.a,null,n.a.createElement(Z,null))),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.6557b743.chunk.js.map